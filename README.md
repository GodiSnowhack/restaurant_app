# Restaurant SPPR

Система поддержки принятия решений для управления рестораном

## Описание проекта

Restaurant SPPR представляет собой комплексную информационную систему, которая помогает в управлении рестораном и принятии бизнес-решений. Система состоит из бэкенда на FastAPI и фронтенда на Next.js с хранением данных в SQLite.

### Основные функциональные модули:

1. **Управление пользователями**:
   - Три роли пользователей: администратор, официант, клиент
   - Аутентификация и авторизация
   - Управление профилями пользователей

2. **Управление меню**:
   - Категории блюд
   - Блюда с детальной информацией (название, описание, цена, себестоимость)
   - Аллергены и теги для блюд

3. **Управление заказами**:
   - Создание и отслеживание заказов
   - Статусы заказов (в обработке, готовится, завершен и др.)
   - Обработка оплаты
   - Отзывы о заказах

4. **Бронирование столиков**:
   - Управление столиками ресторана
   - Создание и отмена бронирований
   - Визуальная схема размещения столиков

5. **Настройки ресторана**:
   - Основная информация (название, адрес, контакты)
   - Рабочие часы
   - Настройки валюты и налогов
   - Параметры доставки и самовывоза

6. **Аналитика и поддержка принятия решений**:
   - Финансовая аналитика (выручка, прибыль, средний чек)
   - Анализ продаж блюд и категорий
   - Статистика загруженности столиков
   - Анализ эффективности персонала
   - Прогнозирование продаж и необходимых запасов
   - Рекомендации по оптимизации бизнес-процессов

### Функции поддержки принятия решений:

1. **Оптимизация меню**:
   - Выявление наименее продаваемых блюд с рекомендациями по их обновлению
   - Продвижение высокомаржинальных блюд
   - Анализ популярности категорий блюд

2. **Управление персоналом**:
   - Рекомендации по распределению персонала в пиковые часы
   - Оптимизация расписания сотрудников
   - Оценка эффективности официантов

3. **Маркетинговые акции**:
   - Предложения по проведению акций на определенные блюда
   - Прогноз потенциального увеличения выручки от акций
   - Рекомендации по комбо-предложениям

4. **Оптимизация запасов**:
   - Прогноз необходимых запасов продуктов
   - Рекомендации по оптимальным закупкам
   - Минимизация отходов

5. **Финансовое планирование**:
   - Прогноз доходов и расходов
   - Анализ сезонности продаж
   - Рекомендации по ценообразованию

## Структура проекта

```
restaurant_app/
├── backend/           # Бэкенд на FastAPI
│   ├── app/           # Основной код приложения
│   │   ├── api/       # API-эндпоинты
│   │   ├── core/      # Конфигурация и инициализация
│   │   ├── crud/      # CRUD-операции
│   │   ├── database/  # Подключение к БД
│   │   ├── models/    # SQLAlchemy модели
│   │   ├── schemas/   # Pydantic схемы
│   │   ├── services/  # Бизнес-логика
│   │   └── utils/     # Вспомогательные функции
│   ├── main.py        # Точка входа FastAPI
│   ├── run.py         # Запуск приложения
│   └── requirements.txt # Зависимости бэкенда
├── data/              # Данные (SQLite база данных)
├── frontend/          # Фронтенд на Next.js
│   ├── components/    # React компоненты
│   ├── pages/         # Next.js страницы
│   ├── styles/        # CSS и стили
│   ├── public/        # Статические файлы
│   └── package.json   # Зависимости фронтенда
├── docker/            # Dockerfile для сервисов
└── docker-compose.yml # Конфигурация Docker Compose
```

## Требования

- Python 3.9+
- Redis
- Docker и Docker Compose (опционально)

## Запуск проекта

### Локальный запуск (без Docker)

1. Создайте виртуальное окружение и активируйте его:

```bash
python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

2. Установите зависимости:

```bash
cd backend
pip install -r requirements.txt
```

3. Запустите приложение:

```bash
python run.py
```

Сервер будет доступен по адресу [http://localhost:8000](http://localhost:8000).  
Документация API: [http://localhost:8000/docs](http://localhost:8000/docs)

### Запуск с Docker Compose

1. Соберите и запустите контейнеры:

```bash
docker-compose up -d
```

2. Сервер будет доступен по адресу [http://localhost:8000](http://localhost:8000).

## Учётные данные по умолчанию

Администратор:
- Email: admin@example.com
- Пароль: admin

## API эндпоинты

Основные разделы API:

- `/api/v1/auth` - Аутентификация и регистрация
- `/api/v1/users` - Управление пользователями
- `/api/v1/menu` - Управление меню (категории, блюда)
- `/api/v1/orders` - Управление заказами
- `/api/v1/reservations` - Бронирование столиков
- `/api/v1/analytics` - Аналитика и отчеты

Полная документация API доступна по адресу [http://localhost:8000/docs](http://localhost:8000/docs) после запуска проекта. 